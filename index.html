<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Comparador de Precios Electrodomésticos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header>
    <h1>Comparador de Precios</h1>
    <p>Scraping automatizado de competidores en Argentina</p>
  </header>

  <nav class="tabs">
    <button data-tab="input" class="active">Input</button>
    <button data-tab="config">Configuración</button>
    <button data-tab="results">Resultados</button>
    <button data-tab="export">Exportar</button>
    <button data-tab="deploy">Deploy</button>
  </nav>

  <main>
    <section id="input" class="tab active">
      <h3>Productos</h3>
      <div>
        <button id="addProduct">Agregar producto</button>
        <button id="loadSamples">Cargar ejemplo</button>
      </div>
      <table id="productsTable">
        <thead>
          <tr>
            <th>Producto</th>
            <th>Marca</th>
            <th>Modelo</th>
            <th>Capacidad</th>
            <th>EAN/Código</th>
            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>

      <h3>Vendedores</h3>
      <div>
        <button id="loadVendors">Cargar desde prompt-2.txt</button>
        <button id="addVendor">Agregar vendedor</button>
      </div>
      <table id="vendorsTable">
        <thead>
          <tr><th>Nombre</th><th>URL</th><th></th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="config" class="tab">
      <h3>Parámetros</h3>
      <div class="grid">
        <label>Headless:
          <select id="headless">
            <option value="true" selected>Sí</option>
            <option value="false">No</option>
          </select>
        </label>
        <label>Delay mínimo (s): <input id="minDelay" type="number" value="2" min="1" max="10" /></label>
        <label>Delay máximo (s): <input id="maxDelay" type="number" value="5" min="1" max="10" /></label>
        <label>Incluir sitio oficial de marca (marcar ND por ahora):
          <select id="official">
            <option value="false" selected>No</option>
            <option value="true">Sí</option>
          </select>
        </label>
      </div>
      <button id="start">Iniciar scraping</button>
      <button id="clearResults">Limpiar resultados</button>
      <div id="status"></div>
    </section>

    <section id="results" class="tab">
      <h3>Tabla de comparación</h3>
      <div class="table-wrap">
        <table id="resultsTable">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Marca</th>
              <th>Carrefour</th>
              <th>Cetrogar</th>
              <th>CheekSA</th>
              <th>Frávega</th>
              <th>Libertad</th>
              <th>Masonline</th>
              <th>Megatone</th>
              <th>Musimundo</th>
              <th>Naldo</th>
              <th>Vital</th>
              <th>Marca (Sitio oficial)</th>
              <th>Fecha de Consulta</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="export" class="tab">
      <h3>Exportar resultados</h3>
      <button id="toCSV">Exportar CSV</button>
      <button id="copyTable">Copiar tabla</button>
      <div class="sheets">
        <label>Nombre de Google Sheet:
          <input id="sheetName" type="text" value="Comparación Precios Electrodomésticos" />
        </label>
        <button id="toSheets">Exportar a Google Sheets</button>
      </div>
      <p>Para habilitar Google Sheets, sube un credentials.json o configura GOOGLE_CREDENTIALS_BASE64 en el servidor.</p>
    </section>

    <section id="deploy" class="tab">
      <h3>Guía de Deploy (resumen)</h3>
      <ol>
        <li>Render: conecta tu repo, Python 3, build “pip install -r requirements.txt”, start “gunicorn app:app”, y añade variables de entorno si aplica.</li>
        <li>Railway: crea proyecto desde GitHub, define start “gunicorn app:app …”, configura PORT y genera dominio en Networking.</li>
        <li>Vercel: sube sólo la carpeta static para frontend y apunta la API a Render/Railway.</li>
      </ol>
      <p>Revisa la guía de despliegue en README.md para pasos detallados.</p>
    </section>
  </main>

  <script src="./script.js"></script>
</body>
</html>
